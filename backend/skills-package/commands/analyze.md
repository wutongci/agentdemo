---
description: 对代码、文档或数据进行深入分析
argument-hint: "要分析的文件路径或内容描述"
allowed-tools: ["fs_read", "bash_run"]
models:
  preferred:
    - claude-sonnet-4-5
    - gpt-4-turbo
  minimum-capabilities:
    - tool-calling
---

# 分析工作流

本命令帮助你对代码、文档或数据进行深入分析，识别问题、模式和改进机会。

## 执行流程

### 1. 识别分析对象

根据用户提供的参数，确定要分析的对象：
- 如果是文件路径，使用 `fs_read` 读取文件内容
- 如果是目录，列出相关文件
- 如果是描述，根据上下文理解需求

### 2. 进行多维度分析

对分析对象进行以下维度的评估：

#### 代码分析
- **结构分析**：代码组织、模块划分、依赖关系
- **质量分析**：代码复杂度、重复代码、命名规范
- **性能分析**：潜在性能瓶颈、资源使用
- **安全分析**：常见漏洞、安全风险点

#### 文档分析
- **完整性**：是否覆盖所有必要信息
- **清晰度**：表述是否清晰易懂
- **准确性**：技术细节是否准确
- **可维护性**：更新和维护的便利性

#### 数据分析
- **数据质量**：完整性、一致性、准确性
- **数据结构**：组织方式、schema 设计
- **数据模式**：识别规律和异常

### 3. 生成分析报告

输出结构化的分析报告：

```markdown
## 分析对象
[描述分析对象的基本信息]

## 关键发现
1. [发现1]
2. [发现2]
3. [发现3]

## 详细分析
### [维度1]
[具体分析内容]

### [维度2]
[具体分析内容]

## 问题和风险
- [问题1]：严重程度 [高/中/低]
- [问题2]：严重程度 [高/中/低]

## 改进建议
1. [建议1]
2. [建议2]
3. [建议3]

## 优先级排序
1. [最高优先级]
2. [次优先级]
3. [一般优先级]
```

### 4. 提供可执行的后续步骤

根据分析结果，提供具体的行动建议。

## 使用示例

```
/analyze src/main.go
/analyze docs/README.md
/analyze 这个项目的代码质量
```

## 注意事项

- 保持客观，基于事实进行分析
- 识别关键问题，避免淹没在细节中
- 提供可操作的建议，而非空泛的评论
- 考虑项目的实际情况和约束
